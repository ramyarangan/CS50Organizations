<?php
// form for new users to register, including fields to type username, password, and 
// password confirmation
// includes a link back to the log in page
?>

<div class="row-fluid">
    <div class="club-header">
        <h1>
            Register.
        </h1>
        <div><img src="img/dots.jpg" width=80%></div>
    </div>
</div>

<div class = "row-fluid" style="padding:30px">

<form id="regForm" class="form-horizontal offset2" style="text-align:left">

    <div class="control-group">
        <label class="control-label" for="FirstName">Name</label>
        <div class="controls row-fluid">
        <div class="span2 row"><input class="span12" id="FirstName" name="first" placeholder="First" type="text"/></div>
        <div class="span2 row"><input class="span12" id="MiddleName" name="last" placeholder="Last" type="text"/></div>
        </div>
    </div>

    <div class="control-group">
        <label class="control-label" for="inputUsername">Username</label>
        <div class="controls row-fluid">
            <div class="span4 row"><input class="span12" id="inputUsername" name="username" type="text"/></div>
        </div>
    </div>

    <div class="control-group">
        <label class="control-label" for="inputPW">Password</label>
        <div class="controls row-fluid">
            <div class="span4 row"><input class="span12" id="inputPW" name="password" type="password"/></div>
        </div>
    </div>

    <div class="control-group">
        <label class="control-label" for="inputConf">Confirm Password</label>
        <div class="controls row-fluid">
            <div class="span4 row"><input class="span12" id="inputConf" name="confirmation" type="password"/></div>
        </div>
    </div>

    <div class="control-group">
        <label class="control-label" for="inputEmail">Email</label>
        <div class="controls row-fluid">
            <div class="span4 row"><input class="span12" id="inputEmail" name="email" placeholder="e.g. user@college.harvard.edu" type="email"/></div>
        </div>
    </div>

    <div class="control-group">
        <div class="controls">
            <button id="submit" type="submit" class="btn">Register</button>
        </div>
    </div>
</form>
</div>

<div>
    Already have an account? Then simply <a href="login.php">log in</a>.</br>
</div>

<script>

$(document).ready(function(){
     $("#submit").click(function(){
           $(".error").hide();
                        var hasError = false;
                                                                          
                                     var email = $("#inputEmail").val();
                                     
                                     if(email == "a@b.com") 
                                     {
                                        $("#inputEmail").after('<p>Enter an email address pl0x.</p>');
                                        hasError = true;
                                     }
                        
                        if (hasError == false) 
                        {
                            $(this).hide();
                            $("#inputEmail").after('loading');
                                              
                            $.ajax({
                               type: "POST",
                               url: register.php,
                               data: $("#regForm").serialize(), // serializes the form's elements.
                               success: function(data)
                               {
                                    alert(data); // show response from the php script.
                               }
                            });   
                        }
                        });
                  });


</script>
